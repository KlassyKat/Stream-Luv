<link rel="stylesheet" href="./styles/info.css">
<link rel="stylesheet" href="./styles/scroll.css">
<body>
    <nav class="control-bar">
        <span></span>
        <span onclick="closeWindow()" class="close-window">
            <svg viewBox="0 0 32 32">
                <line x1="2" y1="2" x2="30" y2="30" />
                <line x1="2" y1="30" x2="30" y2="2" />
            </svg>
        </span>
    </nav>
    <div class="content-wrapper">
        <ul class="main-list">
            <li class="main-cat">
                <h4 onclick="openSection(this.parentNode)" class="list-label">Feature Overview
                    <svg class="menu-arrow" width="10px" viewBox="0 0 10 10">
                        <path id="control-icon" d="M10,5l-10,5l0,-10l10,5Z" />
                    </svg>
                </h4>
                <div class="section-content">
                    <ul class="sub-list">
                        <li class="sub-cat">
                            <h4 onclick="openSection(this.parentNode)" class="list-label">Auto Open Streams
                                <svg class="menu-arrow" width="10px" viewBox="0 0 10 10">
                                    <path id="control-icon" d="M10,5l-10,5l0,-10l10,5Z" />
                                </svg>
                            </h4>
                            <div class="section-content">
                                <p class="instructions">
                                    Any streamer added to StreamLuv can be set to auto open when they go live
                                    with the toggle switch on the side.
                                </p>
                                <img src="./info-images/ToggleSwitch.png" alt="Toggle Auto Open Switch" class="step-image">
                                <p class="instructions">
                                    Streams can either be opened in your default browser window or inside of a 
                                    <strong>StreamLuv Window</strong>
                                </p>
                            </div>
                        </li>
                        <li class="sub-cat">
                            <h4 onclick="openSection(this.parentNode)" class="list-label">StreamLuv Window
                                <svg class="menu-arrow" width="10px" viewBox="0 0 10 10">
                                    <path id="control-icon" d="M10,5l-10,5l0,-10l10,5Z" />
                                </svg>
                            </h4>
                            <div class="section-content">
                                <p class="instructions">
                                    A StreamLuv window is a stream contained inside of the StreamLuv app. It gives most of the 
                                    functionality you'll find in StreamLuv.
                                </p>
                                <img class="step-image" src="./info-images/StreamLuvWindow.png" alt="Stream Luv Window">
                                <p class="instructions">
                                    You'll need to be in a StreamLuv window to use features like channel point auto collection,
                                    starting streams muted, using global shortcuts, and auto theater. 
                                </p>
                            </div>
                        </li>
                        <li class="sub-cat">
                            <h4 onclick="openSection(this.parentNode)" class="list-label">Auto Collect Channel Points
                                <svg class="menu-arrow" width="10px" viewBox="0 0 10 10">
                                    <path id="control-icon" d="M10,5l-10,5l0,-10l10,5Z" />
                                </svg>
                            </h4>
                            <div class="section-content">
                                <p class="instructions">
                                    When inside of a StreamLuv window channel point chest can 
                                    be automatically collected.
                                </p>
                                <img src="./info-images/ChannelPoints.png" alt="Channel Point Chest" class="step-image">
                                <p class="instructions">
                                    This can be toggled on and off by click a streams portrait. 
                                </p>
                                <img src="./info-images/ToggleAutoCollect.png" alt="Toggle Auto Collection Image" class="step-image">
                                <p class="instructions">
                                    This can also be toggled while watching a stream by click the page title.
                                </p>
                                <img src="./info-images/ToggleAutoCollectionByPageTitle.gif" alt="Toggle Auto Collection By Page Title" class="step-image">
                                <p class="instructions">
                                    The page title will be blue when auto collection is active.
                                </p>
                            </div>
                        </li>
                        <li class="sub-cat">
                            <h4 onclick="openSection(this.parentNode)" class="list-label">Start Streams Muted
                                <svg class="menu-arrow" width="10px" viewBox="0 0 10 10">
                                    <path id="control-icon" d="M10,5l-10,5l0,-10l10,5Z" />
                                </svg>
                            </h4>
                            <div class="section-content">
                                <p class="instructions">
                                    In the settings you'll find the option to start streams muted.
                                </p>
                                <img src="./info-images/StartStreamsMutedSetting.png" alt="Start Streams Muted Setting" class="step-image">
                                <p class="instructions">
                                    This (believe it or not) makes is so any time a stream is opened it is initially muted.
                                    This effects the page mute and not twitch's player mute.
                                </p>
                                <img src="./info-images/PageMuteStreams.png" alt="Mute Streams Button" class="step-image">
                            </div>
                        </li>
                        <li class="sub-cat">
                            <h4 onclick="openSection(this.parentNode)" class="list-label">Global Mute Shortcut
                                <svg class="menu-arrow" width="10px" viewBox="0 0 10 10">
                                    <path id="control-icon" d="M10,5l-10,5l0,-10l10,5Z" />
                                </svg>
                            </h4>
                            <div class="section-content">
                                <p class="instructions">
                                    StreamLuv windows allows you to have a global shortcut for muting streams.
                                    The default for this is Ctrl+' and it will toggle the mute of the most recently
                                    selected window and mute all other StreamLuv windows. The assignment for this shortcut can be 
                                    changed in the settings.
                                </p>
                            </div>
                        </li>
                        <li class="sub-cat">
                            <h4 onclick="openSection(this.parentNode)" class="list-label">Auto Theater
                                <svg class="menu-arrow" width="10px" viewBox="0 0 10 10">
                                    <path id="control-icon" d="M10,5l-10,5l0,-10l10,5Z" />
                                </svg>
                            </h4>
                            <div class="section-content">
                                <p class="instructions">
                                    Auto theater is toggle-able in the settings and will automatically make the player go into
                                    theater mode when a stream is opened.
                                </p>
                            </div>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="main-cat">
                <h4 onclick="openSection(this.parentNode)" class="list-label">How does auto collection work?
                    <svg class="menu-arrow" width="10px" viewBox="0 0 10 10">
                        <path id="control-icon" d="M10,5l-10,5l0,-10l10,5Z" />
                    </svg>
                </h4>
                <div class="section-content">
                    <p class="instructions">
                        Auto collection checks the page to see if the channel point chest is there and if it is, 
                        it simulates clicking it and collects it that way. The simulated click will not interfere with anyhting
                        else you might be doing on your computer.
                    </p>
                </div>
            </li>
        </ul>
    </div>
</body>

<script>
    let { ipcRenderer } = require('electron');

    function closeWindow() {
        ipcRenderer.send('close-info-window');
    }

    function openSection(el) {
        console.log(el);
        console.log(el.children[0].children[0])
        if (el.children[1].classList.contains('list_open')) {
            el.children[1].classList.remove('list_open');
            el.children[0].children[0].classList.remove('list-svg_open');
        } else {
            el.children[1].classList.add('list_open');
            el.children[0].children[0].classList.add('list-svg_open');
        }
    }
</script>